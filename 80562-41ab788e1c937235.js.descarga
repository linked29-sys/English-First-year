!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9cb369a5-2aa6-4efe-b301-95c077e1ebdd",e._sentryDebugIdIdentifier="sentry-dbid-9cb369a5-2aa6-4efe-b301-95c077e1ebdd")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80562],{13504:(e,t,a)=>{a.d(t,{_B:()=>n._,KC:()=>x,tN:()=>E}),a(55060);var n=a(16454),r=a(79342),o=a(13103),i=a(88382),s=a(24429);a(17703),a(55985),a(56907),a(4423);var c=a(65146);a(14908);var l=a(56691);a(43086);var d=a(42557),u=a(11750),g=a(17035),b=a(61312),p=a(53592),m=a(84852);let h=e=>{let{onOpenChange:t,isSubscribed:a,isSuccessful:n,...i}=e,{t:s}=(0,c.Bd)("base");return(0,r.jsxs)(p.lG,{...i,onOpenChange:t,children:[(0,r.jsx)(p.LC,{className:"fixed inset-0 z-50 bg-overlay duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,r.jsx)(m.s,{children:(0,r.jsx)(o.L3,{children:s("superGrok-upsell-dialog.title","Upgrade to SuperGrok")})}),(0,r.jsxs)(p.Cf,{className:(0,b.cn)("fixed z-50 bg-background grid inset-0 place-items-center gap-4 duration-200 w-[100vw] min-h-[100vh] overflow-x-hidden","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 p-6"),onCloseAutoFocus:e=>{e.preventDefault(),document.body.style.pointerEvents=""},children:[(0,r.jsx)(g.W,{onSuccess:()=>null==t?void 0:t(!1),isSubscribed:a,isSuccessful:n}),(0,r.jsx)(l.$n,{variant:"ghostSecondary",size:"iconMd",className:"absolute top-4 right-4",onClick:()=>null==t?void 0:t(!1),"aria-label":s("Close","Close"),children:(0,r.jsx)(u.uv5,{className:"size-5"})})]})]})};var k=a(58711),f=a(74995);let x=()=>{let e=(0,d.wV)(),{isSuperGrokUser:t,isSuperGrokProUser:a,isEnterpriseUser:n}=(0,s.Q2)(),o=(0,s.hd)(),i=(0,k.e3)(f.A("isUpselling")),c=(0,k.e3)(f.A("setIsUpselling"));return e.user?(0,r.jsx)(h,{open:i,isSubscribed:t||a||n||!1,isSuccessful:o,onOpenChange:e=>{c(e)}}):null};var y=a(47127),v=a(60065),z=a(75500),S=a(23232),j=a(84969),w=a(33846),N=a(59625),I=a(38997),_=a(46681),P=a(6132);function E(){var e;let{t}=(0,c.Bd)("upsell"),a=(0,z.h)(),n=null==(e=C.safeParse(a.UPSELL_SMALL_KEY.value).data)?void 0:e.key,[o,l]=(0,N.A)("upsell-small-closed",""),u=(0,S._)(),g=function(){var e;let t=(0,z.h)(),a=(0,i.useMemo)(()=>C.safeParse(t.UPSELL_SMALL_KEY.value),[t.UPSELL_SMALL_KEY.value]),n=null==(e=a.data)?void 0:e.key,[r,o]=(0,N.A)("upsell-small-closed",""),c=a.success&&n!==r,l=(0,d.wV)(),u=(0,k.e3)(e=>e.isUpselling),g=(0,_.g)(k.z$),{isEnterpriseUser:b,isSuperGrokUser:p,isSuperGrokProUser:m,isPending:h}=(0,s.Q2)();return!(!c||u||b||p||m||h||!l.user)&&g}(),b=(0,i.useCallback)(()=>{let{setIsUpselling:e}=k.e3.getState();u("upsell_small_clicked","",{location:"upsell-small"}),e(!0)},[u]),p=(0,i.useCallback)(e=>{e.stopPropagation(),l(n)},[l,n]);return(0,r.jsx)(T,{isVisible:g,logo:(0,r.jsx)(I.$X,{className:"h-[20px] mb-1",isDark:!0}),description:t("upsell-small.description","Unlock extended capabilities"),handleClick:b,handleClickClose:p})}function T(e){let{isVisible:t,handleClick:a,handleClickClose:n,logo:o,description:i}=e,{t:s}=(0,c.Bd)("upsell");return(0,r.jsx)(j.N,{children:t&&(0,r.jsxs)(w.P.div,{role:"button",className:(0,b.cn)("upsell-small","fixed bottom-[140px] sm:bottom-2 sm:right-2","px-5 py-4 items-center w-[calc(100%-16px)] bg-black text-xs text-white border cursor-pointer","border-card min-[384px]:w-max min-[384px]:min-w-52 rounded-3xl group text-left","flex gap-4 dark","hover:scale-[1.01]"),onClick:a,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:900,damping:30,duration:.1},children:[(0,r.jsx)(v.I,{starDensity:.001,className:"rounded-[23px]"}),(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center top-0 overflow-hidden rounded-[23px]",children:(0,r.jsx)("div",{className:"size-80 bg-red-500 bg-gradient-to-r from-sunset via-breeze to-cobalt aspect-square opacity-10 absolute bottom-4 blur-[32px] rounded-full"})}),(0,r.jsx)(l.$n,{className:(0,b.cn)("absolute transition-all scale-50 opacity-0 -top-1.5 -right-1.5","group-hover:opacity-100 group-hover:scale-100 border border-border-l1 bg-surface-base hover:bg-surface-l2"),variant:"none",size:"iconXs",rounded:!0,"aria-label":s("Hide upsell banner","Hide upsell banner"),onClick:n,children:(0,r.jsx)(y.p,{children:(0,r.jsx)(u.uv5,{className:"size-4"})},"edit")}),(0,r.jsxs)("div",{className:"w-full z-10",children:[(0,r.jsx)("div",{className:"flex items-start",children:o}),(0,r.jsx)("p",{className:"text-muted-foreground",children:i})]}),(0,r.jsx)(l.$n,{rounded:!0,variant:"filled",className:"text-sm font-semibold z-10 bg-white hover:bg-gray-100",children:s("Upgrade","Upgrade")})]})})}let C=P.z.object({key:P.z.string()})},17035:(e,t,a)=>{a.d(t,{W:()=>_});var n=a(79342),r=a(11750),o=a(17266),i=a(56691),s=a(60065),c=a(75500),l=a(23232),d=a(41320),u=a(24429),g=a(17703),b=a(61312),p=a(58711),m=a(59109),h=a(33846),k=a(16506),f=a(74995),x=a(88382),y=a(65146),v=a(14908),z=a(43086);function S(){return(0,n.jsxs)(h.P.div,{initial:{opacity:0,translateY:-150},animate:{opacity:.15,translateY:0},transition:{duration:1,ease:"easeOut"},className:"absolute -inset-x-[600px] -top-12 flex h-[400px] grow opacity-[0.15] blur-lg",style:{maskImage:"linear-gradient(to top, rgba(255, 255, 255, 0), rgb(255, 255, 255))",WebkitMaskImage:"linear-gradient(to top, rgba(255, 255, 255, 0), rgb(255, 255, 255))"},children:[(0,n.jsx)("div",{className:"grow gradient-one"}),(0,n.jsx)("div",{className:"grow gradient-two"}),(0,n.jsx)("style",{children:"\n      .gradient-one {\n        background: linear-gradient(to bottom, rgb(255, 255, 255), rgba(10, 10, 10, 0)); /* Fallback for non-conic browsers */\n        background: conic-gradient(\n          from 90deg at 35% -1%,\n          rgb(255, 255, 255) 7.2deg,\n          rgb(255, 255, 255) 14.4deg,\n          rgba(10, 10, 10, 0) 36deg,\n          rgba(10, 10, 10, 0) 342deg,\n          rgb(255, 255, 255) 360deg\n        ); /* Overrides if supported */\n      }\n      .gradient-two {\n        background: linear-gradient(to bottom, rgb(255, 255, 255), rgba(10, 10, 10, 0)); /* Fallback for non-conic browsers */\n        background: conic-gradient(\n          from -90deg at 65% -1%,\n          rgb(255, 255, 255) 0deg,\n          rgba(10, 10, 10, 0) 18deg,\n          rgba(10, 10, 10, 0) 324deg,\n          rgb(255, 255, 255) 345.6deg,\n          rgb(255, 255, 255) 352.8deg\n        ); /* Overrides if supported */\n      }\n    "})]})}var j=a(38997),w=a(92939),N=a.n(w);function I(e){let{children:t,className:a,speed:r=.3,colorFrom:o="#d946ef",colorTo:i="#3b82f6",occasionalHighlight:s=!1,highlightInterval:c=4}=e,l=2/r;return(0,n.jsxs)("div",{style:{...s?{animation:"occasionalGradient ".concat(s?c:l,"s ease-in-out infinite")}:{backgroundImage:"linear-gradient(to right, ".concat(o,", ").concat(i,", ").concat(o,")"),backgroundSize:"200% 100%",animation:"gradient ".concat(l,"s ease-in-out infinite")}},className:N().dynamic([["501d5a0e27ebc8ec",[o,i,o,o,i,o,o,i,o]]])+" "+((0,b.cn)("relative inline-block",s?"text-current":"bg-gradient-to-r bg-clip-text text-transparent",a)||""),children:[t,(0,n.jsx)(N(),{id:"501d5a0e27ebc8ec",dynamic:[o,i,o,o,i,o,o,i,o],children:"@-webkit-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-moz-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-o-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-webkit-keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-webkit-linear-gradient(left,".concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-webkit-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-webkit-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-webkit-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:100%50%}100%{background:-webkit-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-webkit-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}}@-moz-keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-moz-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-moz-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-moz-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-moz-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:100%50%}100%{background:-moz-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-moz-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}}@-o-keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-o-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-o-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-o-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-o-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:100%50%}100%{background:-o-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-o-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}}@keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-webkit-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:-moz-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:-o-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-webkit-background-size:200%100%;-moz-background-size:200%100%;-o-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-webkit-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:-moz-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:-o-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-webkit-background-size:200%100%;-moz-background-size:200%100%;-o-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:100%50%}100%{background:-webkit-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:-moz-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:-o-linear-gradient(left,").concat(o,",").concat(i,",").concat(o,");background:linear-gradient(to right,").concat(o,",").concat(i,",").concat(o,");-webkit-background-size:200%100%;-moz-background-size:200%100%;-o-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}}")})]})}let _=e=>{let{isSubscribed:t,isSuccessful:a}=e,{t:i}=(0,y.Bd)("upsell"),[c,g]=(0,x.useState)("monthly"),[m,f]=(0,x.useState)(1),z=(0,l._)(),w=(0,d.Di)(),{targetTier:N}=(0,p.e3)();(0,x.useEffect)(()=>{t?z("upsell_fullscreen_open_subbed","",{location:"upsell-plans",isSubscribed:"true"}):z("upsell_fullscreen_open_not_subbed","",{location:"upsell-plans",isSubscribed:"false"})},[]),(0,x.useEffect)(()=>{a&&z("upsell_fullscreen_open_success","",{location:"upsell-plans",isSubscribed:String(t)})},[a]);let{resolvedTheme:I}=(0,k.D)(),_="dark"===I,{bestSubscription:T}=(0,u.Q2)(),{superGrokSubscriptionPrices:C,superGrokProSubscriptionPrices:G,error:A}=(0,u.t2)(),U=(0,x.useRef)(!1);(0,x.useEffect)(()=>(A&&!U.current&&(v.oR.error(i("useStripe.fail","Failed to connect to subscription service")),U.current=!0),()=>{U.current=!1}),[A,i]);let D=(0,x.useCallback)(()=>{g(e=>"monthly"===e?"yearly":"monthly")},[]),L={title:i("Basic","Basic"),ctaLabel:i("Sign up","Sign up"),isPopular:!1,features:[{Icon:r.yr3,label:i("free.limited-access-grok-3","Limited access to Grok 3"),isHighlighted:!0},{Icon:r.Sxh,label:i("free.limited-context-memory-v2","Limited context memory")},{Icon:o.x,label:i("free.aurora-image-model-v2","Aurora image model")},{Icon:r.IDf,label:i("free.voice-with-vision","Voice access"),isHighlighted:!0},{Icon:r.XRf,label:i("free.projects","Projects")},{Icon:r.HEW,label:i("free.tasks","Tasks")}],monthlyPrice:"Free",yearlyPrice:"Free"},R={title:i("supergrok.title","SuperGrok"),ctaLabel:i("supergrok.cta-label","Upgrade to SuperGrok"),isPopular:!0,features:[{Icon:r.yr3,label:i("supergrok.increased-access-grok-4","Increased access to Grok 4"),detail:i("supergrok.replaces-grok-3-v2","Replaces Think and DeepSearch"),isNewRowDetail:!0,isHighlighted:!0},{Icon:r.yr3,label:i("supergrok.increased-access-grok-3","Increased access to Grok 3")},{Icon:r.Sxh,label:i("supergrok.context-memory-v2","Extended memory"),detail:i("supergrok.context-memory-detail","{{tokens, number}} tokens",{tokens:128e3})},{Icon:r.IDf,label:i("supergrok.voice-with-vision-v2","Priority voice access")},{Icon:r.XGR,label:i("supergrok.imagine","Imagine image model "),isHighlighted:!0},{Icon:r.Wzu,label:i("supergrok.companions","Companions Ani and Valentine"),isHighlighted:!0},{Icon:r.c11,label:i("supergrok.everything-in-basic","Everything in Basic")}],monthlyPrice:null==C?void 0:C.monthly_price,yearlyPrice:null==C?void 0:C.yearly_price},M={title:i("SuperGrok Heavy","SuperGrok Heavy"),ctaLabel:i("Upgrade to SuperGrok Heavy","Upgrade to Heavy"),isPopular:!1,features:[{Icon:r.uiu,label:i("supergrok-heavy.exclusive-preview-of-grok-4-heavy","Exclusive preview of Grok 4 Heavy"),isHighlighted:!0},{Icon:r.yr3,label:i("supergrok.extended-access-grok-4","Extended access to Grok 4")},{Icon:r.yr3,label:i("supergrok.extended-access-grok-3","Unlimited access to Grok 3")},{Icon:r.Sxh,label:i("supergrok-heavy.context-v2","Longest memory"),detail:i("supergrok-heavy.context.tokens","{{tokens, number}} tokens",{tokens:256e3})},{Icon:r.dWV,label:i("supergrok-heavy.early-access-to-new-features","Early access to new features"),isHighlighted:!0},{Icon:r.c11,label:i("supergrok-heavy.everything-in-supergrok","Everything in SuperGrok")}],monthlyPrice:null==G?void 0:G.monthly_price,yearlyPrice:null==G?void 0:G.yearly_price};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{}),(0,n.jsx)(s.I,{className:"[mask-image:radial-gradient(circle_at_top,#000000_0%,transparent_80%,transparent_100%)] z-0",starColor:_?[181,181,181]:[151,196,255]}),(0,n.jsxs)("div",{className:"flex flex-col w-full items-center gap-10 h-full pt-20",children:[(0,n.jsxs)(h.P.header,{initial:{opacity:0,translateY:8},animate:{opacity:1,translateY:0},transition:{duration:.4,ease:"easeOut"},className:"flex flex-col items-center gap-2",children:[(0,n.jsx)(j.$X,{isDark:_,className:"w-64"}),(0,n.jsxs)("div",{className:"flex flex-col items-center text-fg-secondary",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:i("Introducing Grok 4","Introducing Grok 4")}),(0,n.jsx)("h3",{className:"text-lg font-semibold -m-1 dark:text-fg-tertiary",children:i("The most powerful AI model.","The most powerful AI model")})]})]}),(0,n.jsx)(E,{subType:c,isSubscribed:t,onToggle:D}),(0,n.jsx)("div",{className:"relative w-full max-w-5xl",children:(0,n.jsxs)("div",{className:(0,b.cn)("grid gap-4 w-full relative",{"grid-cols-1 justify-items-center":w,"grid-cols-3":!w}),children:[(0,n.jsx)(P,{...L,subType:c,bestSubscription:T,tier:void 0,planIndex:0,targetTier:N,selectedPlanIndex:m,setSelectedPlanIndex:f}),(0,n.jsx)(P,{...R,subType:c,bestSubscription:T,tier:u.i.SuperGrok,planIndex:1,targetTier:N,selectedPlanIndex:m,setSelectedPlanIndex:f}),(0,n.jsx)(P,{...M,subType:c,bestSubscription:T,tier:u.i.SuperGrokPro,planIndex:2,targetTier:N,selectedPlanIndex:m,setSelectedPlanIndex:f}),!w&&(0,n.jsx)(h.P.div,{className:"absolute inset-0 rounded-3xl border-2 border-fg-primary pointer-events-none z-20",initial:!1,animate:{x:1===m?"calc(100% + 1rem)":2===m?"calc(200% + 2rem)":"0%"},transition:{type:"easeInOut",duration:.2},style:{width:"calc(33.333% - 10.667px)"}})]})})]})]})};function P(e){let{title:t,ctaLabel:a,isPopular:r,features:o,subType:s,monthlyPrice:h,yearlyPrice:k,tier:S,bestSubscription:j,planIndex:w,selectedPlanIndex:N,setSelectedPlanIndex:_}=e,{t:P}=(0,y.Bd)("upsell"),E="monthly"===s?h:k,[T,C]=(0,x.useState)(!1),G=(0,l._)(),A=(0,c.h)(),U=(0,x.useMemo)(()=>!A.ENABLE_HEAVY_SUBSCRIPTION&&S===u.i.SuperGrokPro,[A.ENABLE_HEAVY_SUBSCRIPTION,S]),D=(0,p.e3)(f.A("setTargetTier")),L=(0,d.Di)(),{subscribeViaStripe:R}=(0,u.t2)(),M=(0,u.hi)(),H=(0,x.useCallback)(()=>{S&&!U&&(G("click_subscribe","",{location:"upsell-plans"}),C(!0),R(s,S).catch(e=>{let t=M(String(e))||P("subscribe.fail","Oops, something went wrong while processing your subscription.");(0,v.oR)(t),G("subscribeViaStripe_fail","",{location:"upsell-plans"}),(0,g.vV)("upsell-plans",e)}).finally(()=>{C(!1)}))},[S,U,G,R,s,M,P]),F=(0,x.useCallback)(()=>{_(w),S&&D(S)},[w,_,S,D]),O=(0,x.useMemo)(()=>{let e=(0,u.XG)(j),t=(0,u.XG)(S),n=S===j;return{isDisabled:e>=t||void 0===S||U,ctaLabel:n?P("Current Plan","Current Plan"):e>t?P("You are on tier","You are on {{tier}}",{tier:(0,u.VA)(j)}):U?P("Sold Out","Sold Out"):a}},[j,a,P,S,U]),B=N===w,W=(0,x.useMemo)(()=>.5+1.5*Math.random(),[]);return(0,n.jsxs)("div",{className:(0,b.cn)("max-w-96 grow flex-1 w-full p-6 rounded-3xl bg-surface-l1 flex flex-col gap-6 shadow-sm z-[10] cursor-pointer",!L&&"self-stretch","border-2",B&&L?"border-fg-primary":"border-transparent"),onClick:F,children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center w-full justify-between h-6",children:[(0,n.jsx)("h1",{className:"text-sm font-semibold",children:t}),r&&(0,n.jsx)("div",{className:"text-[12px] text-fg-primary font-semibold border px-1.5 py-0.5 rounded-lg dark:bg-surface-l2 bg-surface-base",children:P("Popular","Popular")})]}),(0,n.jsx)("h3",{className:"text-3xl font-semibold text-fg-primary h-10",children:!!E&&("Free"===E?"Free":(0,n.jsx)(m.Ay,{format:{style:"currency",currencyDisplay:"narrowSymbol",currency:E.currency,maximumFractionDigits:2,minimumFractionDigits:2},suffix:"monthly"===s?"/month":"/year",value:parseFloat(E.amount.val)/100,className:"upsell-amount-suffix"}))})]}),(0,n.jsx)(i.$n,{variant:O.isDisabled?"outline":"filled",className:(0,b.cn)("w-full font-semibold text-sm",!O.isDisabled&&"hover:scale-[101%] transition-transform duration-300","hover:bg-button-filled-hover"),size:"md",rounded:!0,onClick:H,disabled:T||O.isDisabled,"aria-label":T?P("Redirecting...","Redirecting..."):O.ctaLabel,children:T?(0,n.jsx)(z.y,{className:"text-ivory",size:"sm"}):O.ctaLabel}),(0,n.jsx)("div",{className:"flex flex-col gap-2",children:o.map(e=>(0,n.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[e.Icon&&(0,n.jsx)(e.Icon,{className:(0,b.cn)("text-fg-tertiary my-0.5 size-4 flex-shrink-0",{"text-fg-primary":e.isHighlighted})}),(0,n.jsxs)("div",{className:"min-h-4",children:[A.SUBSCRIPTIONS_PAGE_ANIMATE&&e.isHighlighted&&B?(0,n.jsx)(I,{className:"font-semibold text-sm",occasionalHighlight:!1,speed:W,children:e.label}):e.isHighlighted||e.isBold?(0,n.jsx)("span",{className:(0,b.cn)("inline","font-semibold"),children:e.label}):(0,n.jsx)("span",{className:"inline",children:e.label}),e.detail&&(0,n.jsx)("span",{className:(0,b.cn)("text-fg-secondary text-xs ",e.isNewRowDetail?"inline-block":"inline ps-1"),children:e.detail})]})]})},e.label))})]})}let E=e=>{let{subType:t,onToggle:a}=e,{t:r}=(0,y.Bd)("upsell"),{resolvedTheme:o}=(0,k.D)(),i="dark"===o,s=[{key:"yearly",label:(0,n.jsxs)(n.Fragment,{children:[r("Pay-yearly","Pay yearly"),(0,n.jsx)("span",{className:(0,b.cn)("text-[12px] ms-1",{"text-fg-tertiary":"yearly"!==t,"text-orange-300":i&&"yearly"===t,"text-orange-400":!i&&"yearly"===t}),children:r("save-16","save 16%")})]})},{key:"monthly",label:r("Pay-monthly","Pay monthly")}];return(0,n.jsx)("div",{className:(0,b.cn)("inline-flex text-sm font-semibold p-0.5 border rounded-full text-fg-secondary cursor-pointer bg-surface-inset"),onClick:a,children:s.map(e=>{let{key:a,label:r}=e,o=t===a;return(0,n.jsxs)("button",{type:"button",className:(0,b.cn)("relative z-10 flex-1 py-1.5 px-3 rounded-full flex items-center justify-center whitespace-nowrap border border-transparent",{"text-fg-primary":o}),children:[o&&(0,n.jsx)(h.P.div,{layoutId:"toggle-pill",className:"absolute inset-0 rounded-full bg-surface-l3 border border-border-l1",transition:{type:"spring",stiffness:400,damping:35}}),(0,n.jsx)("span",{className:"relative z-10",children:r})]},a)})})}},88753:(e,t,a)=>{a.d(t,{Pt:()=>I,e9:()=>w,Gw:()=>N});var n=a(65258),r=a(6132),o=a(56521);let i=r.z.object({code:r.z.string(),message:r.z.string(),moreDetails:r.z.string().optional(),parameter:r.z.string().optional(),subCode:r.z.string().optional(),value:r.z.string().optional()}),s=r.z.object({displayText:r.z.string(),query:r.z.string()}),c=r.z.object({name:r.z.string(),searchSuggestions:r.z.array(s)}),l=r.z.object({_type:r.z.literal("Suggestions"),suggestionGroups:r.z.array(c)}),d=r.z.object({_type:r.z.literal("ErrorResponse"),errors:r.z.array(i)}),u=r.z.discriminatedUnion("_type",[l,d]);var g=a(17703),b=a(4261);let p={ar:"SA",bn:"IN",de:"DE",en:"US",es:"ES",fa:"US",fil:"US",fr:"FR",id:"ID",it:"IT",ja:"JP",ko:"KR",nl:"NL",pl:"PL",pt:"PT",ru:"RU",ro:"US",sv:"SE",tr:"TR","uk-UA":"US",vi:"US",zh:"CN","zh-TW":"TW",cs:"US",hi:"US",hu:"US",mr:"US",ta:"US",te:"US"},m=e=>p[e]||"US",h=e=>({ar:"ar",bn:"bn",de:"de",en:"en",es:"es",fr:"fr",id:"en",it:"it",ja:"jp",ko:"ko",nl:"nl",pl:"pl",pt:"pt-pt",ru:"ru",sv:"sv",tr:"tr","uk-UA":"uk",vi:"vi",zh:"zh-hans","zh-TW":"zh-hant"})[e]||"en";var k=a(55985),f=a(88382),x=a(75500),y=a(21782),v=a(41320),z=a(3683);let S=r.z.object({enabled:r.z.boolean(),maxResults:r.z.number().optional(),maxResultsMobile:r.z.number().optional(),minChars:r.z.number().optional(),maxChars:r.z.number().optional(),maxWords:r.z.number().optional(),throttleTimeMs:r.z.number().optional(),enableStockTickers:r.z.boolean().optional(),stockInfoRefreshTimeMs:r.z.number().optional(),maxProjects:r.z.number().optional()});class j{constructor(e,t){this.set=e,this.get=t,this.config={enabled:!1,minChars:3,maxChars:30,maxResults:7,maxResultsMobile:3,maxWords:50,throttleTimeMs:50,enableStockTickers:!0,stockInfoRefreshTimeMs:0,maxProjects:0},this.locale="en",this.typeaheads={},this.tickers={},this.lastFetchTime=-1e3,this.throttleTimeout=null,this.ensureSuggestions=async e=>{let{config:t,ensureTicker:a,_performFetch:n,typeaheads:r}=this.get();if(!t.enabled||(a(e),e.length<t.minChars||e.length>t.maxChars||t.maxWords>0&&e.split(/\s+/).length>t.maxWords||r[e]))return;let o=E(r,e);if((null==o?void 0:o.length)===0)return;if(performance.now()-this.get().lastFetchTime>=t.throttleTimeMs)return void n(e);let i=this.get().throttleTimeout;i&&clearTimeout(i);let s=setTimeout(async()=>{n(e),this.set({throttleTimeout:null})},t.throttleTimeMs);this.set({throttleTimeout:s})},this.ensureTicker=async e=>{if(!this.get().config.enableStockTickers)return;let t=P(e);if(!t)return;let{tickers:a}=this.get();if(!a[t]){this.set(e=>{e.tickers[t]={status:"loading",data:null,error:null}});try{let e=await k.rA.financeGetStockMiniSummary({ticker:t});this.set(a=>{a.tickers[t]=(0,n.ok)(e)})}catch(e){this.set(a=>{a.tickers[t]={status:"error",data:null,error:e}})}}},this._performFetch=async e=>{let{locale:t}=this.get();this.set(t=>{t.typeaheads[e]={status:"loading",data:null,error:null}});let a=performance.now(),r=[];try{r=await _(e,t),(0,g.N8)("typeaheadStore",{type:"typeahead_api_call",provider:"bing",status:"success"})}catch(t){this.set(a=>{a.typeaheads[e]=(0,n._q)(t)}),(0,g.vV)("typeahead",t,{provider:"bing"}),(0,g.N8)("typeaheadStore",{type:"typeahead_api_call",provider:"bing",status:"error"});return}(0,g.N8)("typeaheadStore",{type:"typeahead_latency",provider:"bing",valueMs:performance.now()-a});let{ensureTicker:o}=this.get();null==r||r.forEach(e=>o(e.text)),this.set(t=>{t.typeaheads[e]=(0,n.ok)(r),t.lastFetchTime=performance.now()})}}}let w=(0,n.MQ)(j,"useTypeaheadStore");function N(){let e=(0,x.h)();(0,f.useEffect)(()=>{let t=S.safeParse(e.TYPEAHEAD_CONFIG);t.data&&w.setState(a=>{a.config={...a.config,...t.data,maxProjects:e.MAX_SUGGESTED_PROJECTS}})},[e.TYPEAHEAD_CONFIG,e.MAX_SUGGESTED_PROJECTS]);let t=(0,y.f)();(0,f.useEffect)(()=>{w.setState({locale:t})},[t])}function I(e){let t=(0,v.Di)(),a=(0,x.h)().TYPEAHEAD_CONFIG.enabled,n=w(e=>e.ensureSuggestions),r=w(e=>e.typeaheads),o=w(e=>e.tickers),i=w(e=>e.config.maxProjects),s=w(e=>t?e.config.maxResultsMobile:e.config.maxResults),c=w(e=>e.config.maxChars),l=(0,z._)();return(0,f.useEffect)(()=>{a&&n(e)},[e,n,a]),(0,f.useMemo)(()=>{if(!e||!a||e.length<=1)return[];let t=e.length>c?[]:function(e,t,a){var n,r,o,i;let s=[],c=[],l=new Set,d=P(e);if(d&&(null==(n=a[d])?void 0:n.status)==="success"){let e=a[d].data;e&&(s.push({type:"stock",summary:e}),l.add(d))}for(let n of null!=(r=E(t,e))?r:[]){let e=P(n.text);if(e&&!l.has(e)&&(null==(o=a[e])?void 0:o.status)==="success"){let t=null==(i=a[e])?void 0:i.data;t?(s.push({type:"stock",summary:t}),l.add(e)):c.push({type:"search",text:n.text})}else e&&l.has(e)||c.push({type:"search",text:n.text})}return[...s,...c]}(e,r,o);return 0!==l.length&&i>0&&(t=[...new b.A(l,{keys:["name"],distance:20,threshold:.3}).search(e,{limit:i}).map(e=>({type:"project",project:e.item})),...t]),t.slice(0,s)},[a,c,i,s,e,l,o,r])}async function _(e,t){let a={q:e,mkt:"".concat(h(t),"-").concat(m(t))},n=await function(e){let t=new URLSearchParams(e);return(0,o.h)("/suggestions?".concat(t.toString())).then(e=>e.json()).then(u.parse)}(a);if("ErrorResponse"===n._type){let e=n.errors.map(e=>e.message).join(", ");throw Error("Bing API Error: ".concat(e))}return n.suggestionGroups.flatMap(e=>e.searchSuggestions).map(e=>({text:e.query}))}function P(e){let t=e.trim();if(!t)return null;if(/^[a-zA-Z]{1,5}$/.test(t))return t.toLowerCase();let a=/^([a-zA-Z]{1,5}) (stocks?|prices?)$/.exec(t);return(null==a?void 0:a[1])?a[1].toLowerCase():null}function E(e,t){var a;let n=Object.keys(e),r=null;for(let a of n)"success"===e[a].status&&t.startsWith(a)&&(!r||a.length>r.length)&&(r=a);return r&&(null==(a=e[r])?void 0:a.data)||null}}}]);